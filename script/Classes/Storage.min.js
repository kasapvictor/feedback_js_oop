class Storage{checkSize(e){let t=this.getSize(e,data.limitSize),a=this.getCount(e,data.limitCount);return t&&a}getSize(e,t){let a=0;for(let t=0;t<e.length;t++)a+=e[t].size;return a>t?(t=Math.floor((t/1024/1024).toFixed(2)),data.info.push(`Максимальный размер файлов - до ${t}Mb`),View.warningFiles(data.info),data.info=[],!1):a}getCount(e,t){let a=e.length;return a>t?(data.info.push("Максимальное кол-во файлов: "+t),View.warningFiles(data.info),data.info=[],!1):a}checkFiles(e,t){for(let a=0;a<e.length;a++){let i=e[a],n=e[a].name.replace(/\s/gm,"_"),l=(e[a].size/1024).toFixed(2),o=(e[a].size/1024/1024).toFixed(2),s=e[a].type.replace(/.*\//gm,"");if(this.checkName(n))return;data.count++,this.addFiles(t,i,n,l,o,s)}}checkName(e){for(let t in data.uploadsFiles)if(data.uploadsFiles[t].name===e)return data.info.push(`Файл с именем: ${e} уже добавлен`),View.warningFiles(data.info),data.info=[],!0}addFiles(e,t,a,i,n,l){if(!(data.count<=e))return data.info.push("Максимальное кол-во файлов: "+e),View.warningFiles(data.info),void(data.info=[]);data.uploadsFiles.push({file:t,name:a,sizeKb:i,sizeMb:n,type:l}),View.showFileInfo(this.getFilesInfo(data.uploadsFiles),data.outFilesInfo),data.count===e&&(data.fileInput.style.display="none",data.dropZone.style.display="none")}getFilesInfo(e){let t={};if(e.length>0){for(let a=0;a<e.length;a++){let i=e[a].name,n=e[a].sizeKb+"Kb",l=e[a].type;t[a]={name:i,size:n,type:l}}return t}return!1}}